<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock paper scissor </title>
</head>

<body>
    <p>ROCK PAPER SCISSOR</p>
    <button onclick="
        playGame('Rock')
        ">ROCK</button>
    <button onclick="
        playGame('Paper')
    ">PAPER</button>
    <button onclick="  
        playGame('Scissor')
    ">SCISSOR</button>
    <button onclick="
        resetScore()
    ">RESET</button>

    <script>
        let score=JSON.parse(localStorage.getItem('score'));
        if (score===null){
            score={
            wins:0,
            losses:0,
            ties:0
        }};

        function playGame(playerMove){
            const comp_mov=Comp_choose()      
            let result='';
            if (playerMove==='Scissor')
                {
                if (comp_mov==='rock')
                result='Lose';
                else if(comp_mov==='paper')
                result='Win';
                else
                result='Tie';            
                }
            else if (playerMove==='Paper'){
                if (comp_mov==='rock')
                result='Win';
                else if(comp_mov==='paper')
                result='Tie';
                else
                result='Lose';           
            }
            else{         
                if (comp_mov==='rock')
                result='Tie';
                else if(comp_mov==='paper')
                result='Lose';
                else
                result='Win';
            }

            if (result==='Win'){
                score.wins++;
            }
            else if(result==='Lose'){
                score.losses++;
            }
            else if (result==='Tie'){
                score.ties++
            }

            localStorage.setItem('score',JSON.stringify(score));

            
             alert(`You chose ${playerMove}. Computer chose ${comp_mov}. So its a ${result}
Wins : ${score.wins},Losses : ${score.losses},Ties : ${score.ties}`);
             
             
        }
        function resetScore(){
            score.wins=0;
            score.losses=0;
            score.ties=0;
            localStorage.removeItem('score');

            alert(`Your Score has been reset
Wins : ${score.wins},Losses : ${score.losses},Ties : ${score.ties}`);

        }


         function Comp_choose(){
            let comp_mov='';
            const random_no=Math.random();
            if (random_no>=0 && random_no<1/3)
            comp_mov='rock';
            else if (random_no>=1/3 && random_no<2/3)
            comp_mov='paper';
            else 
            comp_mov='scissor';
            
            return comp_mov
        }

    </script>

</body>

</html>